`所有规则使用前先问ai是否正确和适用`
# 更新 
## 操作（不要直接使用vs code（龟速））
```bash
cd ~/cs-study
git acp "更新"
```
```bash
cd ~/basic-disciplines
git acp "更新"
```

## 含义
```bash
# 1. 进入你的学习仓库目录
cd ~/cs-study
# 2. 执行git acp + 提交备注（和原来一模一样）
git acp "学习笔记：Python NumPy矩阵运算"
# 3. 若本地无修改，执行后会提示“没有要提交的文件”，不影响远程
```


# 查看本地工作区、暂存区与远程仓库的状态差异
```bash
git status
```


# 检查指定文件是否被  .gitignore  规则匹配（即是否被 Git 忽略）
```bash
cd ~/cs-study
git check-ignore -v c-cpp/hello.c
```


# 清除 Git 缓存，重新跟踪被误忽略的文件
```bash
cd ~/cs-study
# 清除 Git 的忽略缓存（让新规则生效）
git rm -r --cached .
# 重新暂存所有文件（此时中文 txt/md 不会被忽略）
git add .
```


# 强制清除 Git 缓存，重新跟踪被误忽略的文件
```bash
cd ~/cs-study
# 1. 强制清除 Git 缓存（关键：加 -f 解决冲突，--cached 保证不删工作区文件）
git rm -r --cached -f .
# 2. 重新暂存所有文件（此时 Git 会按新的 .gitignore 规则判断，中文 txt/md 不会被忽略）
git add .
```


# 手动推送
```bash
cd ~/cs-study
# 安全强制推送本地 main 分支到远程
git push --force-with-lease origin main
```


# 验证同步
```bash
git remote -v 
# 无输出，说明远程已移除
```


# 建立同步
## 子文件夹（里面无文件夹）
```bash
# 进入 cs-study 下的 test 文件夹
cd ~/cs-study/test
# 初始化独立 Git 仓库（test 文件夹内会生成 .git 目录）
git init
# 关联已创建的远程 PL 仓库（SSH 地址，需配置 SSH 密钥）
git remote add origin git@github.com:dao019/PL.git
# 验证远程关联（输出应为 PL 仓库地址）
git remote -v
# 暂存当前文件夹内的所有文件（此处只有 test.txt）
git add .
# 首次提交（必须填写提交信息）
git commit -m "Initial commit: test.txt in test folder"
# 推送到远程 PL 仓库（首次推送需加 -u 关联分支）
git push -u origin main
```

## 主文件夹（里面有文件夹）
```bash
cd ~/cs-study  # 假设这是你的主文件夹
git init       # 初始化仓库，生成 .git 目录
mkdir c py txt  # 创建 c、py、txt 子文件夹
git remote add origin git@github.com:dao019/cs-study.git   # 添加远程仓库
code .gitignore  # 过滤无用文件。
# 用 VSCode 打开，添加以下内容
=========================
# 核心规则：忽略 Bash 历史记录及所有备份
bash_history*

# 忽略所有 .backup 后缀的文件（防止未来其他备份误提交）
*.backup

# 忽略其他可能的敏感文件（可选，防患于未然）
*.key
*.secret
*.token

# C/C++ 编译产物
*.a
*.o
*.out
*.so
*.dll

# Python 虚拟环境（精确规则）
python/pyenv/*
python/.env/*

# Python 缓存
python/__pycache__/
*.py[cod]
*.class

# 通用忽略
.vscode/
*.swp
*.swo
*.log
*.bak

# （!类型规则不递归）（通配符规则）
c-cpp/*
!c-cpp/*/
!c-cpp/*.*

python/*
!python/*/
!python/*.*

# 保护以下无后缀文件
!README
!c-cpp/README
!python/README
==========================
git add .  # 暂存所有子文件夹和 .gitignore
git commit -m "Initial commit: 主文件夹+子文件夹结构"
git push -u origin main  # 首次推送，关联远程分支
```


# 验证同步
```bash
# 确认 test.txt 被 Git 跟踪
git ls-tree HEAD test.txt
# 确认最新提交记录
git log --oneline -n 1
```


# 永久取消整个仓库的远程同步（本地仓库保留）
```bash
# 1. 查看当前文件夹内容的远程关联
git remote -v
# 2. 移除远程仓库关联（彻底取消同步）
git remote remove origin
# 验证：执行 git remote -v 无输出，说明远程已移除
```


# 临时取消同步（本地和远程的文件都保留，仅停止同步，git remote -v 有输出）
停止
## 1.单个文件
```bash
# 取消跟踪，但本地文件保留
git rm --cached c/egg.c
# 提交变更（必须提交，否则下次 git add . 会重新跟踪）
git commit -m "Stop tracking: c/egg.c"
# 推送变更到远程（远程仓库中该文件会被标记为“未跟踪”，但历史版本仍在）
git push
```

## 2.子文件夹
```bash
git rm --cached -r c
git commit -m "Stop tracking: c/ folder"
git push
B 避免下次 git add . 重新跟踪
# 打开 .gitignore
code .gitignore
==========================
# 添加以下内容（示例：忽略 c/egg.c 或整个 c/ 文件夹）
c/egg.c
# 或
c/
# 保存后，提交 .gitignore 变更
==========================
git add .gitignore
git commit -m "Update .gitignore: Ignore c/egg.c"
git push
```